import{w as s}from"./e6l8DgL1.js";function l(t){return t==="light"||t==="dark"}function g(t){return t==="ko"||t==="en"}function u(t){return t==="medium"||t==="large"}function f(){let t={theme:"light",language:"ko",fontSize:"medium",enterToSend:!0,soundVolume:.8,llmType:"gemini_flash",enableIdleTrigger:!1,enableInteractionTrigger:!1,showImage:!0,autoScroll:!0,showBackground:!1,showVariableStatus:!0};const a=window.matchMedia("(prefers-color-scheme: dark)").matches;t.theme=a?"dark":"light",t.language=navigator.language.startsWith("ko")?"ko":"en";const o=window.localStorage.getItem("app-settings");if(o)try{const e=JSON.parse(o);l(e.theme)&&(t.theme=e.theme),g(e.language)&&(t.language=e.language),u(e.fontSize)&&(t.fontSize=e.fontSize),typeof e.enterToSend=="boolean"&&(t.enterToSend=e.enterToSend),typeof e.soundVolume=="number"&&(t.soundVolume=e.soundVolume),typeof e.enableIdleTrigger=="boolean"&&(t.enableIdleTrigger=e.enableIdleTrigger),typeof e.enableInteractionTrigger=="boolean"&&(t.enableInteractionTrigger=e.enableInteractionTrigger),typeof e.showImage=="boolean"&&(t.showImage=e.showImage),typeof e.autoScroll=="boolean"&&(t.autoScroll=e.autoScroll),typeof e.showBackground=="boolean"&&(t.showBackground=e.showBackground),typeof e.showVariableStatus=="boolean"&&(t.showVariableStatus=e.showVariableStatus)}catch(e){console.error("Failed to parse settings from localStorage",e)}return t}function c(){const t=f(),{subscribe:a,set:o,update:e}=s(t);return{subscribe:a,set:n=>{window.localStorage.setItem("app-settings",JSON.stringify(n)),o(n)},update:n=>{e(i=>{const r=n(i);return window.localStorage.setItem("app-settings",JSON.stringify(r)),r})}}}const S=c();export{S as s};
