import{W as s}from"./DJxVeldX.js";function a(e){return e==="light"||e==="dark"}function r(e){return e==="ko"||e==="en"}function g(e){return e==="medium"||e==="large"}function l(){let e={theme:"light",language:"ko",fontSize:"medium",enterToSend:!0,soundVolume:.8,llmType:"gemini_flash"};const i=window.matchMedia("(prefers-color-scheme: dark)").matches;e.theme=i?"dark":"light",e.language=navigator.language.startsWith("ko")?"ko":"en";const n=window.localStorage.getItem("app-settings");if(n)try{const t=JSON.parse(n);a(t.theme)&&(e.theme=t.theme),r(t.language)&&(e.language=t.language),g(t.fontSize)&&(e.fontSize=t.fontSize),typeof t.enterToSend=="boolean"&&(e.enterToSend=t.enterToSend),typeof t.soundVolume=="number"&&(e.soundVolume=t.soundVolume)}catch(t){console.error("Failed to parse settings from localStorage",t)}return e}function u(){const e=l(),{subscribe:i,set:n,update:t}=s(e);return{subscribe:i,set:o=>{window.localStorage.setItem("app-settings",JSON.stringify(o)),n(o)},update:t}}const d=u();export{d as s};
