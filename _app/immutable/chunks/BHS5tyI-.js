import"./NZTpNUN0.js";import"./Vvm9udaT.js";import{W as ot,X as at,l as q,_ as nt,aw as L,a2 as n,a0 as y,L as ct,a3 as c,w as P,Z as W,x as B}from"./DJxVeldX.js";import{e as E,s as T}from"./C9woGF-z.js";import{b as h,a as b}from"./fOQuHGXh.js";import{i as g}from"./292SS5JT.js";import{a as rt}from"./b1Xy42mh.js";import{b as it,s as lt}from"./CVCkp_ml.js";import{b as X}from"./Bw-tA-uZ.js";import{s as dt}from"./BqlTOgs2.js";import{i as vt}from"./Degfot_7.js";import{p as Z}from"./Zfh5ko2t.js";import{s as pt,a as A}from"./ZTUH0_7J.js";import{I}from"./Cphc7EI3.js";import{$ as mt}from"./Bit4kGOU.js";const O=ot("disconnected");var ft=h('<p class="svelte-cjkzyq"> </p> <button class="modal-button disconnect svelte-cjkzyq"> </button>',1),ut=h('<p class="svelte-cjkzyq"> </p> <button class="modal-button connect svelte-cjkzyq"> </button>',1),_t=h('<p class="svelte-cjkzyq"> </p>'),Tt=h('<div class="tts-modal svelte-cjkzyq"><!></div>'),bt=h('<div class="tts-status-wrapper svelte-cjkzyq"><button><!></button> <!></div>');function Ot(D,p){at(p,!1);const[C,F]=pt(),i=()=>A(O,"$ttsState",C),m=()=>A(mt,"$t",C);let l=ct(!1);const G={connecting:"TTS 연결 중...",connected:"TTS 연결 완료: 캐릭터 음성이 출력됩니다.",disconnected:"TTS 연결 끊김"};function H(){y(l,!P(l))}let J=Z(p,"impl_connectTTS",8,()=>{}),K=Z(p,"impl_disconnectTTS",8,()=>{});function j(){console.log("TTS 연결 시도..."),O.set("connecting"),J()(),y(l,!1)}function x(){console.log("TTS 연결 끊기..."),O.set("disconnected"),K()(),y(l,!1)}function N(t){const s=f=>{t&&!t.contains(f.target)&&y(l,!1)};return document.addEventListener("click",s,!0),{destroy(){document.removeEventListener("click",s,!0)}}}vt();var k=bt(),d=n(k),Q=n(d);{var R=t=>{I(t,{icon:"ph:speaker-high-bold",width:"24",height:"24"})},U=(t,s)=>{{var f=o=>{I(o,{icon:"ph:speaker-slash-bold",width:"24",height:"24"})},z=o=>{I(o,{icon:"ph:dots-three-bold",width:"24",height:"24"})};g(t,o=>{i()==="disconnected"?o(f):o(z,!1)},s)}};g(Q,t=>{i()==="connected"?t(R):t(U,!1)})}c(d);var V=L(d,2);{var Y=t=>{var s=Tt(),f=n(s);{var z=v=>{var S=ft(),u=W(S),w=n(u,!0);c(u);var e=L(u,2),a=n(e,!0);c(e),q((r,_)=>{T(w,r),T(a,_)},[()=>m()("tts.connectedMessage"),()=>m()("tts.disconnectButton")],B),E("click",e,x),b(v,S)},o=(v,S)=>{{var u=e=>{var a=ut(),r=W(a),_=n(r,!0);c(r);var M=L(r,2),tt=n(M,!0);c(M),q((et,st)=>{T(_,et),T(tt,st)},[()=>m()("tts.disconnectedMessage"),()=>m()("tts.reconnectButton")],B),E("click",M,j),b(e,a)},w=e=>{var a=_t(),r=n(a,!0);c(a),q(_=>T(r,_),[()=>m()("tts.connectingMessage")],B),b(e,a)};g(v,e=>{i()==="disconnected"?e(u):e(w,!1)},S)}};g(f,v=>{i()==="connected"?v(z):v(o,!1)})}c(s),b(t,s)};g(V,t=>{P(l)&&t(Y)})}c(k),rt(k,t=>N?.(t)),q(()=>{it(d,1,`tts-status-button ${i()??""}`,"svelte-cjkzyq"),lt(d,"title",G[i()])}),E("click",d,dt(H)),b(D,k),X(p,"connectTTS",j),X(p,"disconnectTTS",x);var $=nt({connectTTS:j,disconnectTTS:x});return F(),$}export{Ot as T,O as t};
