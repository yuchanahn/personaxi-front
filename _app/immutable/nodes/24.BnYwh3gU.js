import{d as z,b as _}from"../chunks/kz80bbCR.js";import{i as q}from"../chunks/2r1cYJse.js";import{o as T}from"../chunks/D0mpzbhj.js";import{w as x,aj as y,z as P,ap as e,al as t,V as v,W as h,am as s,an as S,Q as l}from"../chunks/BUDlkbfV.js";import{s as A}from"../chunks/BbnaKca8.js";import{s as M}from"../chunks/BJyhluUY.js";import{e as W}from"../chunks/CiCNsvIE.js";var I=z(`<div class="test-container svelte-1z0sqi"><h1 class="svelte-1z0sqi">PWA Payment Test</h1> <div class="status svelte-1z0sqi"><p>Environment: <strong> </strong></p></div> <div class="test-case svelte-1z0sqi"><h3>Method 1: window.open (Current Logic)</h3> <p>This often fails in PWA or opens inside the app.</p> <button class="svelte-1z0sqi">Try window.open</button></div> <div class="test-case recommended svelte-1z0sqi"><h3>Method 2: Anchor Link (Same Domain)</h3> <p>This often fails if scope captures it (Current Issue).</p> <a target="_blank" class="link-btn svelte-1z0sqi">Test Internal Link (/payment/bridge)</a></div> <div class="test-case external svelte-1z0sqi"><h3>Method 3: External Link (Subdomain Simulation)</h3> <p><strong>Proposed Fix:</strong> Testing if a <em>different domain</em> opens Safari.</p> <div class="btn-group svelte-1z0sqi"><a href="https://google.com" target="_blank" class="link-btn success svelte-1z0sqi">Test Google.com</a> <a href="https://github.com" target="_blank" class="link-btn success svelte-1z0sqi">Test GitHub.com</a></div> <p class="small-note svelte-1z0sqi">If these open in Safari, then moving payment to <code>pay.personaxi.com</code> will work!</p></div> <div class="note svelte-1z0sqi"><p><strong>Note:</strong> After clicking, if the bridge page opens in Chrome/Safari
            (not inside this app), then Method 2 is the solution.</p></div></div>`);function $(f,u){x(u,!1);let d=h(!1),i=h("");T(()=>{v(d,window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0);const a=new URLSearchParams({paymentId:`test_${Date.now()}`,amount:"1000",credits:"100",productName:"Test Product (100 Neurons)",userId:"test-user-id",email:"test@example.com",name:"Test User"});v(i,`/payment/bridge?${a.toString()}`)});function g(){const a=window.open(l(i),"_blank");(!a||a.closed||typeof a.closed>"u")&&alert("Popup blocked! window.open failed.")}q();var o=I(),n=e(t(o),2),p=t(n),c=e(t(p)),b=t(c,!0);s(c),s(p),s(n);var r=e(n,2),w=e(t(r),4);s(r);var m=e(r,2),k=e(t(m),4);s(m),S(4),s(o),y(()=>{A(b,l(d)?"PWA (Standalone)":"Browser"),M(k,"href",l(i))}),W("click",w,g),_(f,o),P()}export{$ as component};
