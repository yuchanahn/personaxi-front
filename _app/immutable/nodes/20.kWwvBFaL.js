import{d as y,b as h}from"../chunks/kz80bbCR.js";import{i as bt}from"../chunks/2r1cYJse.js";import{w as ht,aj as k,z as kt,ap as r,al as e,O as T,am as t,Q as a,W as D,as as J,V as n}from"../chunks/BUDlkbfV.js";import{s as v}from"../chunks/BbnaKca8.js";import{i as j}from"../chunks/28pso2Hb.js";import{e as yt,i as xt}from"../chunks/BOGOvxWJ.js";import{s as N,r as X}from"../chunks/BJyhluUY.js";import{e as O}from"../chunks/CiCNsvIE.js";import{b as Y}from"../chunks/njKOc8Q7.js";import{p as st}from"../chunks/BqlTOgs2.js";import{s as Et,a as Pt}from"../chunks/D32zTIdM.js";import{g as rt}from"../chunks/DqiWXVxP.js";import{$ as Wt}from"../chunks/C36u96xB.js";import{s as C}from"../chunks/C-VEydUt.js";import{I as It}from"../chunks/DaDtKPX8.js";import{t as Z}from"../chunks/sXlFIKQv.js";var $t=y('<img class="login-icon svelte-umqwqw"/>'),Ft=y('<button class="login-button svelte-umqwqw"><!> <span> </span></button>'),Ot=y('<div class="button-group svelte-umqwqw"></div> <div class="legal-links svelte-umqwqw"><a href="/terms" class="svelte-umqwqw"> </a> <span class="svelte-umqwqw">·</span> <a href="/privacy" class="svelte-umqwqw"> </a></div>',1),Rt=y('<div class="error-message svelte-umqwqw"> </div>'),At=y('<form class="email-form svelte-umqwqw"><!> <div class="form-group svelte-umqwqw"><label for="reset-email" class="svelte-umqwqw">Reset Password</label> <p class="description svelte-umqwqw"> </p> <input id="reset-email" type="email" required placeholder="you@example.com" class="svelte-umqwqw"/></div> <button class="submit-button svelte-umqwqw" type="submit"> </button></form> <div class="alt-actions svelte-umqwqw"><button class="link-button svelte-umqwqw"> </button></div>',1),Lt=y('<div class="error-message svelte-umqwqw"> </div>'),St=y('<form class="email-form svelte-umqwqw"><!> <div class="form-group svelte-umqwqw"><label for="email" class="svelte-umqwqw">Email</label> <input id="email" type="email" required placeholder="you@example.com" class="svelte-umqwqw"/></div> <div class="form-group svelte-umqwqw"><label for="password" class="svelte-umqwqw">Password</label> <input id="password" type="password" required placeholder="" class="svelte-umqwqw"/> <div class="forgot-password svelte-umqwqw"><button type="button" class="link-button small svelte-umqwqw">Forgot Password?</button></div></div> <button class="submit-button svelte-umqwqw" type="submit"> </button></form> <div class="alt-actions svelte-umqwqw"><button class="link-button svelte-umqwqw"> </button> <span>·</span> <button class="link-button svelte-umqwqw"> </button></div>',1),Tt=y('<div class="login-page-wrapper svelte-umqwqw"><div class="login-container svelte-umqwqw"><div class="login-header svelte-umqwqw"><img src="/logo.png" class="logo svelte-umqwqw"/> <h1 class="title svelte-umqwqw"> </h1> <p class="subtitle svelte-umqwqw"> </p></div> <!></div></div>');function Dt(G,ot){ht(ot,!1);const[it,lt]=Et(),c=()=>Pt(Wt,"$t",it);let A=D("options"),x=D(""),K=D("");const nt=()=>n(A,"options"),M=()=>n(A,"email"),vt=()=>{n(w,""),n(A,"reset")};let z=D(!1);const mt=async()=>{if(a(x)){n(z,!0),n(w,"");try{const{error:s}=await C.auth.resetPasswordForEmail(a(x),{redirectTo:`${window.location.origin}/auth/update-password`});if(s)throw s;Z.success("Password reset link sent! Check your email."),M()}catch(s){s instanceof Error?n(w,s.message):n(w,"Failed to send reset email.")}finally{n(z,!1)}}};let w=D("");const ut=async()=>{try{const{data:s,error:l}=await C.auth.signInWithPassword({email:a(x),password:a(K)});if(l)throw l;n(w,""),rt("/hub")}catch(s){s instanceof Error?n(w,s.message):n(w,"로그인에 실패했습니다. 다시 시도해 주세요.")}},ct=()=>{rt("/signup")},wt=[{name:"Google",icon:"/icons/google.svg",handler:async()=>{const{data:s,error:l}=await C.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/hub`}});l&&Z.error(l.message)}},{name:"Kakao",icon:"ri:kakao-talk-fill",handler:async()=>{const{data:s,error:l}=await C.auth.signInWithOAuth({provider:"kakao",options:{redirectTo:`${window.location.origin}/hub`}});l&&Z.error(l.message)}},{name:"Email",icon:"/icons/email.svg",handler:M}];bt();var Q=Tt(),tt=e(Q),U=e(tt),et=e(U),V=r(et,2),dt=e(V,!0);t(V);var at=r(V,2),pt=e(at,!0);t(at),t(U);var qt=r(U,2);{var gt=s=>{var l=Ot(),E=J(l);yt(E,5,()=>wt,xt,(I,o)=>{var d=Ft(),g=e(d);{var f=i=>{var b=$t();k(()=>{N(b,"src",a(o).icon),N(b,"alt",`${a(o).name} icon`)}),h(i,b)},_=i=>{It(i,{get icon(){return a(o).icon},width:"24",height:"24"})};j(g,i=>{a(o).icon.startsWith("/")?i(f):i(_,!1)})}var R=r(g,2),$=e(R,!0);t(R),t(d),k(i=>v($,i),[()=>c()("login.loginWith",{values:{provider:a(o).name}})],T),O("click",d,function(...i){a(o).handler?.apply(this,i)}),h(I,d)}),t(E);var B=r(E,2),p=e(B),P=e(p,!0);t(p);var m=r(p,4),W=e(m,!0);t(m),t(B),k((I,o)=>{v(P,I),v(W,o)},[()=>c()("login.terms"),()=>c()("login.privacy")],T),h(s,l)},ft=(s,l)=>{{var E=p=>{var P=At(),m=J(P),W=e(m);{var I=u=>{var F=Rt(),L=e(F,!0);t(F),k(()=>v(L,a(w))),h(u,F)};j(W,u=>{a(w)&&u(I)})}var o=r(W,2),d=r(e(o),2),g=e(d,!0);t(d);var f=r(d,2);X(f),t(o);var _=r(o,2),R=e(_,!0);t(_),t(m);var $=r(m,2),i=e($),b=e(i,!0);t(i),t($),k((u,F)=>{v(g,u),_.disabled=a(z),v(R,a(z)?"Sending...":"Send Reset Link"),v(b,F)},[()=>c()("login.resetDescription",{default:"Enter your email to receive a password reset link."}),()=>c()("common.back")],T),Y(f,()=>a(x),u=>n(x,u)),O("submit",m,st(mt)),O("click",i,M),h(p,P)},B=p=>{var P=St(),m=J(P),W=e(m);{var I=q=>{var S=Lt(),H=e(S,!0);t(S),k(()=>v(H,a(w))),h(q,S)};j(W,q=>{a(w)&&q(I)})}var o=r(W,2),d=r(e(o),2);X(d),t(o);var g=r(o,2),f=r(e(g),2);X(f);var _=r(f,2),R=e(_);t(_),t(g);var $=r(g,2),i=e($,!0);t($),t(m);var b=r(m,2),u=e(b),F=e(u,!0);t(u);var L=r(u,4),_t=e(L,!0);t(L),t(b),k((q,S,H)=>{v(i,q),v(F,S),v(_t,H)},[()=>c()("login.signIn"),()=>c()("login.signUp"),()=>c()("common.back")],T),Y(d,()=>a(x),q=>n(x,q)),Y(f,()=>a(K),q=>n(K,q)),O("click",R,vt),O("submit",m,st(ut)),O("click",u,ct),O("click",L,nt),h(p,P)};j(s,p=>{a(A)==="reset"?p(E):p(B,!1)},l)}};j(qt,s=>{a(A)==="options"?s(gt):s(ft,!1)})}t(tt),t(Q),k((s,l,E)=>{N(et,"alt",s),v(dt,l),v(pt,E)},[()=>c()("login.serviceLogoAlt"),()=>c()("login.welcomeBack"),()=>c()("login.slogan")],T),h(G,Q),kt(),lt()}function te(G){Dt(G,{})}export{te as component};
