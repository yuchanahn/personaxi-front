import"../chunks/NZTpNUN0.js";import"../chunks/Vvm9udaT.js";import{X as k,au as A,av as E,Z as M,_ as O,w as e,L as t,aw as c,a2 as p,a0 as a,a3 as f,x as B}from"../chunks/DJxVeldX.js";import{b as H,a as W}from"../chunks/fOQuHGXh.js";import{i as X}from"../chunks/292SS5JT.js";import{i as Z}from"../chunks/Degfot_7.js";import{s as j,a as z}from"../chunks/ZTUH0_7J.js";import{p as F}from"../chunks/pmDB9vb6.js";import{S as G,C as J,a as K,l as N,s as Q,b as R}from"../chunks/D_e-RsHg.js";import{l as U,f as V}from"../chunks/BGAOhipI.js";var Y=H('<!> <main class="chat-layout svelte-10q5y9o"><div class="settings-button-2d svelte-10q5y9o"><!></div> <div class="chat-container svelte-10q5y9o"><!> <!></div></main>',1);function me(S,$){k($,!1);const[C,I]=j(),r=()=>z(F,"$page",C);let n=t(null),i=t(null),g=t("Error");const P=()=>{const s=r().url.searchParams.get("c");a(g,r().url.searchParams.get("llmType")||"Error"),a(n,s),N(s??""),s&&U(s).then(o=>{V(o.image_metadatas).then(L=>{o.image_metadatas=L,a(i,o)})})};let u=t(!1),d=t(!1);const q=async s=>{const o=r().url.searchParams.get("c");a(u,!0),a(d,!0),await Q(o??"",s,"2d",()=>{a(d,!1)})};let l=t(!1);A(()=>(r(),e(n)),()=>{r().url.searchParams.get("c")!==e(n)&&P()}),E(),Z();var v=Y(),_=M(v);{var w=s=>{R(s,{get persona(){return e(i)},get isOpen(){return e(l)},get llmType(){return e(g)},$$events:{close:()=>a(l,!1)}})};X(_,s=>{e(l)&&e(i)&&s(w)})}var h=c(_,2),m=p(h),T=p(m);G(T,{onClick:()=>a(l,!0)}),f(m);var y=c(m,2),b=p(y);const x=B(()=>e(n)??"");J(b,{get cssid(){return e(x)},get isLoading(){return e(u)},get persona(){return e(i)}});var D=c(b,2);K(D,{onSend:q,get isDisabled(){return e(d)}}),f(y),f(h),W(S,v),O(),I()}export{me as component};
